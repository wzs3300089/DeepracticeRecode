# Deepractice 提示词结构设计三大原则深度解析

## 目录
- [DPML 简介与设计起源](#dpml-简介与设计起源-content-00:32)
- [核心设计哲学：人、计算机与 AI 的三方交互](#核心设计哲学人计算机与-ai-的三方交互-content-05:46)
- [提示词格式选型：为何选择类 XML 结构？](#提示词格式选型为何选择类-xml-结构-content-07:56)
- [提示词结构设计三大原则](#提示词结构设计三大原则-content-19:13)
- [实践案例与社区理念](#实践案例与社区理念-content-42:22)
- [AI 总结](#ai-总结)

---

## DPML 简介与设计起源 [原片 @ 00:32](https://www.bilibili.com/video/BV1jeGuzNE3n?t=32)*
- **DPML 名称来源**:
  - **DP**: `Deepractice` (深度实践)，是社区和组织的名称，定位是 AI 应用与实践，与 `DeepMind` (深度求索) 的科研定位相区分。
  - **ML**: `Markup Language` (标记语言)。
  - **全称**: `Deepractice Prompt Markup Language` (深度实践提示词标记语言)。
- **DPML 的本质**:
  - 它是一种结构化内容的标记语言，类似于 `HTML`，而非一种编程语言。
  - 其设计初衷是为了解决在 AI 应用开发中，随着项目推进，提示词数量剧增、难以管理的问题。

## 核心设计哲学：人、计算机与 AI 的三方交互 [原片 @ 05:46](https://www.bilibili.com/video/BV1jeGuzNE3n?t=346)*
传统编程语言主要考虑 **人与计算机** 的两方交互。而在 AI 时代，提示词的设计需要考虑 **人、计算机、AI** 的三方交互。

- **对人友好**: 提示词必须易于人类阅读、理解和编写。如果比写代码还复杂，就失去了其意义。
- **对计算机友好**: 结构化的提示词需要能被计算机程序解析和处理，以实现自动化和集成。
- **对 AI 友好**: AI 需要能准确理解提示词的意图。幸运的是，AI 兼具计算机的效率和对自然语言的理解能力，是最容易“将就”的一方。

设计的核心是在利用 AI 自然语言能力的同时，提供一个对人和计算机都足够清晰的结构。

## 提示词格式选型：为何选择类 XML 结构？ [原片 @ 07:56](https://www.bilibili.com/video/BV1jeGuzNE3n?t=476)*
在确定设计哲学后，对市面上现有的格式进行了评估和选择。

- **`JSON` (不合适)**:
  - **缺点**: 对人类的可读性和编写体验极差，格式要求严格（如引号、逗号），不适合快速编写和阅读。它纯粹是为计算机设计的。

- **`YAML` (不够理想)**:
  - **优点**: 相比 `JSON`，对人类更友好，编写更简洁。
  - **缺点**: 在表达丰富的语义和层级关系时，其结构不如 `XML` 直观和强大。表达同一个意思可能需要更多行代码，消耗更多 `Token`。

- **类 `XML`/`HTML` 结构 (最终选择)**:
  - **优点**: 语义表达能力非常丰富和高效。一个 `XML` 标签天然包含三个层次的语义：
    1.  **标签名 (Tag Name)**: 如 `<role>`，本身就定义了内容的**核心语义**和**作用域**，具有很强的概括性。
    2.  **属性 (Attributes)**: 如 `<skill name="coding">`，可以用来表达**组合关系**、**元数据**或配置，增加了信息维度。
    3.  **内容 (Content)**: 标签内部的文本或子标签，用于承载具体的**逻辑**、数据和描述。
  - **结论**: 这种三段式结构能高效地表达父子、组合、并行等复杂关系，且结构清晰，符合三方交互的设计哲学。

## 提示词结构设计三大原则 [原片 @ 19:13](https://www.bilibili.com/video/BV1jeGuzNE3n?t=1153)*
基于上述哲学和格式选型，总结出提示词设计的三大核心原则。

### 原则一：结构化 (Structuring)
- **核心思想**: 使用标签（如 `<role>`, `<personality>`, `<skill>`）将提示词内容进行模块化和分块。
- **目的与好处**:
  1.  **限定范围**: 像一个框架或“框”，约束 AI 在指定的范围内思考和生成内容，避免其“胡言乱语”。
  2.  **抽象与易于理解**: 类似于面向对象编程（`OOP`）中的类 (`Class`)，将相关信息组织在一起（如将所有“人格”相关的描述放在 `<personality>` 标签内），使提示词的逻辑更清晰，易于人类理解和维护。

### 原则二：基于共识 (Based on Consensus) [原片 @ 23:46](https://www.bilibili.com/video/BV1jeGuzNE3n?t=1426)*
- **核心思想**: 在设计提示词的结构和用词时，要尽量使用人类社会、文化和知识体系中已经存在的、被广泛理解的概念，而不是自己创造新词。
- **为什么重要**:
  - AI 的知识来源于对海量人类文本的训练，因此，人类容易理解的、约定俗成的概念，AI 也更容易理解。
  - 使用共识词汇（如 `Exploration`, `Reasoning`，或中文语境下的 `女娲`）可以省去大量的解释性文字，从而节省 `Token` 并提高 AI 理解的准确性。
- **实践应用**:
  - **命名**: 给工具或角色命名时，使用具有文化共识的名字（如“女娲”代表创造）能让用户瞬间理解其核心功能。
  - **词汇**: 使用“关键词 (Keywords)”或“标签 (Tags)”这种大众词汇，而不是“高熵词汇 (high-entropy vocabulary)”这类专业术语，能更好地触达用户。
  - **产品设计**: 产品的成功很大程度上依赖于能否与用户的既有认知（共识）相结合。例如 `Prompt X` 项目在接入了用户熟知的 `MCP` 后获得了快速增长。

### 原则三：约而不束 (Binding without Restricting) [原片 @ 35:28](https://www.bilibili.com/video/BV1jeGuzNE3n?t=2128)*
这个原则是前两个原则的升华，完美平衡了结构化与灵活性。

- **“约” (Binding/Agreement)**:
  - 指的是通过**结构化标签**和**基于共识的命名**来创建清晰的**约定**。这部分是给计算机解析和人类快速理解框架用的。它定义了“什么是什么”。
- **“不束” (Without Restricting)**:
  - 指的是在标签的**内容区域 (Content)** 内，**不施加严格的语法束缚**。
  - 这部分内容可以直接交给 AI 处理，充分发挥其强大的自然语言理解能力。内容可以是：
    - 自然语言描述
    - `Markdown` 格式
    - `Mermaid` 图表代码
    - 甚至是另一段 `XML` 代码
- **为什么“不束”很重要**:
  - 避免过度设计。如果试图用 `XML` 标签去实现复杂的 `if/else` 逻辑，会变得非常笨重和低效。
  - 逻辑表达是自然语言的强项。我们应该用自然语言去描述逻辑，而不是发明一套新的、死板的规则去约束 AI。
  - 过多的、死板的规则（如复杂的 `JSON` 结构）会消耗 AI 宝贵的“注意力”资源，反而可能导致它在核心任务上出错。

## 实践案例与社区理念 [原片 @ 42:22](https://www.bilibili.com/video/BV1jeGuzNE3n?t=2542)*
- **`Mermaid` 的启发**: `Mermaid` 也是“约而不束”的典范。它有简单的语法（约），但能生成丰富的可视化图表，同时被人类、计算机和 AI 很好地理解。
- **成功项目 `Prompt X`**:
  - 社区的 `Prompt X` 开源项目（一个月内获得 1.8k `star`）是这套设计原则的成功实践。
  - 项目的 `README` 优先使用中文，降低国内用户的使用门槛，这也是“基于共识”的一种体现。
- **社区愿景**:
  - **`让AI触手可及`**: 致力于将 AI 应用做得足够简单，让普通人、小白用户也能轻松使用，就像抖音让老人也能享受互联网一样。
  - **社区驱动**: 项目的发展由社区共同决策，非常重视用户反馈，即使只有一个用户的需求，只要合理也会考虑实现。

---

## AI 总结
本次分享深入剖析了 `DPML` (Deepractice Prompt Markup Language) 的三大核心设计原则，旨在构建专业、高效且易于维护的 AI Agent 提示词体系。

1.  **结构化 (Structuring)**: 采用类 `XML` 的标签体系，将提示词内容模块化，为 AI 的思考和输出提供清晰的框架，防止其偏离主题。
2.  **基于共识 (Based on Consensus)**: 强调使用人类社会已有的、广泛理解的词汇和概念，而非自创术语。这能有效利用 AI 基于人类知识的训练背景，减少不必要的解释，节省 `Token` 并提升沟通效率。
3.  **约而不束 (Binding without Restricting)**: 这一核心原则巧妙地平衡了刚性与柔性。通过标签实现结构化的“约定”，但在标签内部则“不束缚”，允许使用自然语言、`Markdown` 等灵活形式来描述复杂逻辑，充分发挥 AI 的自然语言理解优势，避免过度工程化。

这些原则共同构成了一套旨在优化 **人、计算机、AI** 三方交互的系统性方法论，其最终目标是让 AI 应用的开发和使用变得更加简单、直观和普及。