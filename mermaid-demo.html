<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid å›¾è¡¨æ¼”ç¤º - Deepractice</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/mermaid-theme.css">
    <style>
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .demo-section {
            margin-bottom: 3rem;
            background: #ffffff;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .demo-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
            border-bottom: 2px solid #7c3aed;
            padding-bottom: 0.5rem;
        }
        .demo-description {
            color: #6b7280;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        .code-block {
            background: #f3f4f6;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
        }
        .header {
            background: linear-gradient(135deg, #7c3aed, #3b82f6);
            color: white;
            text-align: center;
            padding: 3rem 2rem;
            margin-bottom: 2rem;
        }
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .header p {
            font-size: 1.125rem;
            opacity: 0.9;
        }
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: #7c3aed;
            color: white;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }
        .back-btn:hover {
            background: #5b21b6;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¨ Mermaid å›¾è¡¨æ¼”ç¤º</h1>
        <p>Deepractice é¡¹ç›®ä¸­çš„ Mermaid å›¾è¡¨æ”¯æŒå±•ç¤º</p>
    </div>

    <div class="demo-container">
        <a href="index.html" class="back-btn">
            â† è¿”å›ä¸»é¡µ
        </a>

        <!-- æµç¨‹å›¾æ¼”ç¤º -->
        <div class="demo-section">
            <h2 class="demo-title">1. æµç¨‹å›¾ (Flowchart)</h2>
            <p class="demo-description">å±•ç¤º DPML è®¾è®¡åŸåˆ™çš„å†³ç­–æµç¨‹</p>
            
            <div class="mermaid">
flowchart TD
    A[å¼€å§‹è®¾è®¡æç¤ºè¯] --> B{æ˜¯å¦éœ€è¦ç»“æ„åŒ–?}
    B -->|æ˜¯| C[ä½¿ç”¨XMLæ ‡ç­¾ç»“æ„]
    B -->|å¦| D[ä½¿ç”¨è‡ªç„¶è¯­è¨€]
    C --> E{æ˜¯å¦ä½¿ç”¨å…±è¯†è¯æ±‡?}
    E -->|æ˜¯| F[é€‰æ‹©å¹¿æ³›ç†è§£çš„æ¦‚å¿µ]
    E -->|å¦| G[åˆ›é€ æ–°æœ¯è¯­]
    F --> H{æ˜¯å¦çº¦è€Œä¸æŸ?}
    G --> H
    H -->|æ˜¯| I[âœ… ä¼˜ç§€çš„DPMLè®¾è®¡]
    H -->|å¦| J[âŒ è¿‡åº¦æŸç¼š]
    D --> K[ä¼ ç»Ÿæç¤ºè¯]
    I --> L[AIç†è§£å‡†ç¡®]
    J --> M[AIç†è§£å›°éš¾]
    K --> N[æ•ˆæœä¸€èˆ¬]
            </div>

            <div class="code-block">
flowchart TD
    A[å¼€å§‹è®¾è®¡æç¤ºè¯] --> B{æ˜¯å¦éœ€è¦ç»“æ„åŒ–?}
    B -->|æ˜¯| C[ä½¿ç”¨XMLæ ‡ç­¾ç»“æ„]
    B -->|å¦| D[ä½¿ç”¨è‡ªç„¶è¯­è¨€]
    C --> E{æ˜¯å¦ä½¿ç”¨å…±è¯†è¯æ±‡?}
    E -->|æ˜¯| F[é€‰æ‹©å¹¿æ³›ç†è§£çš„æ¦‚å¿µ]
    E -->|å¦| G[åˆ›é€ æ–°æœ¯è¯­]
    F --> H{æ˜¯å¦çº¦è€Œä¸æŸ?}
    G --> H
    H -->|æ˜¯| I[âœ… ä¼˜ç§€çš„DPMLè®¾è®¡]
    H -->|å¦| J[âŒ è¿‡åº¦æŸç¼š]
            </div>
        </div>

        <!-- åºåˆ—å›¾æ¼”ç¤º -->
        <div class="demo-section">
            <h2 class="demo-title">2. åºåˆ—å›¾ (Sequence Diagram)</h2>
            <p class="demo-description">å±•ç¤º PETA-OS è®¤çŸ¥è®°å¿†ç³»ç»Ÿçš„äº¤äº’æµç¨‹</p>
            
            <div class="mermaid">
sequenceDiagram
    participant U as ç”¨æˆ·
    participant A as AI Agent
    participant M as è®°å¿†ç³»ç»Ÿ
    participant C as è®¤çŸ¥å¼•æ“
    
    U->>A: å‘é€é—®é¢˜
    A->>M: æ£€ç´¢ç›¸å…³è®°å¿†
    M-->>A: è¿”å›è®°å¿†ç‰‡æ®µ
    A->>C: å¯åŠ¨è®¤çŸ¥æ¨ç†
    C->>C: æ€ç»´é“¾å¤„ç†
    C-->>A: ç”Ÿæˆæ´å¯Ÿ
    A->>M: å­˜å‚¨æ–°è®°å¿†
    A-->>U: è¿”å›ç­”æ¡ˆ
    
    Note over M,C: PETA-OS æ ¸å¿ƒæ¶æ„
            </div>
        </div>

        <!-- ç”˜ç‰¹å›¾æ¼”ç¤º -->
        <div class="demo-section">
            <h2 class="demo-title">3. ç”˜ç‰¹å›¾ (Gantt Chart)</h2>
            <p class="demo-description">Deepractice é¡¹ç›®å¼€å‘æ—¶é—´çº¿</p>
            
            <div class="mermaid">
gantt
    title Deepractice é¡¹ç›®å¼€å‘æ—¶é—´çº¿
    dateFormat  YYYY-MM-DD
    section è®¾è®¡é˜¶æ®µ
    éœ€æ±‚åˆ†æ          :done,    req, 2025-06-01, 2025-06-15
    æ¶æ„è®¾è®¡          :done,    arch, 2025-06-10, 2025-06-25
    UI/UXè®¾è®¡         :done,    ui, 2025-06-20, 2025-07-05
    section å¼€å‘é˜¶æ®µ
    PETA-OSå¼€å‘       :active,  peta, 2025-07-01, 2025-07-14
    DPMLå¼€å‘          :done,    dpml, 2025-07-01, 2025-07-07
    ä¸»ç«™å¼€å‘          :done,    main, 2025-07-05, 2025-07-10
    section ä¼˜åŒ–é˜¶æ®µ
    UXä¼˜åŒ–            :         ux, 2025-07-15, 2025-07-20
    æ€§èƒ½ä¼˜åŒ–          :         perf, 2025-07-18, 2025-07-25
    æ–‡æ¡£å®Œå–„          :         doc, 2025-07-20, 2025-07-30
            </div>
        </div>

        <!-- æ€ç»´å¯¼å›¾æ¼”ç¤º -->
        <div class="demo-section">
            <h2 class="demo-title">4. æ€ç»´å¯¼å›¾ (Mindmap)</h2>
            <p class="demo-description">Deepractice æŠ€æœ¯ä½“ç³»æ¦‚è§ˆ</p>
            
            <div class="mermaid">
mindmap
  root((Deepractice))
    PETA-OS
      è®¤çŸ¥æ¶æ„
        è®°å¿†ç¼–ç 
        è®°å¿†æ£€ç´¢
        è®°å¿†å·©å›º
      çŠ¶æ€å¼•æ“
        æ€ç»´é“¾
        æ¨ç†æ¨¡å¼
        å†³ç­–æ ‘
      å¿ƒç†å­¦æ¨¡å‹
        è®¤çŸ¥è´Ÿè·
        è®°å¿†æ¨¡å¼
        å­¦ä¹ ç†è®º
    DPML
      ç»“æ„åŒ–
        XMLæ ‡ç­¾
        æ¨¡å—åŒ–
        å±‚æ¬¡åŒ–
      åŸºäºå…±è¯†
        æ–‡åŒ–å…±è¯†
        æŠ€æœ¯å…±è¯†
        è¯­è¨€å…±è¯†
      çº¦è€Œä¸æŸ
        çµæ´»æ€§
        å¯æ‰©å±•æ€§
        é€‚åº”æ€§
    æŠ€æœ¯æ ˆ
      å‰ç«¯
        HTML5
        CSS3
        JavaScript
      è®¾è®¡
        å“åº”å¼
        UXä¼˜åŒ–
        ä¸»é¢˜ç³»ç»Ÿ
      å·¥å…·
        Mermaid
        Git
        GitHub Pages
            </div>
        </div>

        <!-- é¥¼å›¾æ¼”ç¤º -->
        <div class="demo-section">
            <h2 class="demo-title">5. é¥¼å›¾ (Pie Chart)</h2>
            <p class="demo-description">é¡¹ç›®æŠ€æœ¯æ ˆåˆ†å¸ƒ</p>
            
            <div class="mermaid">
pie title æŠ€æœ¯æ ˆåˆ†å¸ƒ
    "HTML/CSS" : 35
    "JavaScript" : 30
    "è®¾è®¡/UX" : 20
    "æ–‡æ¡£" : 10
    "å…¶ä»–" : 5
            </div>
        </div>

        <!-- çŠ¶æ€å›¾æ¼”ç¤º -->
        <div class="demo-section">
            <h2 class="demo-title">6. çŠ¶æ€å›¾ (State Diagram)</h2>
            <p class="demo-description">AI Agent çš„çŠ¶æ€è½¬æ¢</p>
            
            <div class="mermaid">
stateDiagram-v2
    [*] --> å¾…æœº
    å¾…æœº --> æ¥æ”¶è¾“å…¥ : ç”¨æˆ·è¾“å…¥
    æ¥æ”¶è¾“å…¥ --> è®°å¿†æ£€ç´¢ : å¼€å§‹å¤„ç†
    è®°å¿†æ£€ç´¢ --> è®¤çŸ¥æ¨ç† : æ‰¾åˆ°ç›¸å…³è®°å¿†
    è®°å¿†æ£€ç´¢ --> å­¦ä¹ æ¨¡å¼ : æ— ç›¸å…³è®°å¿†
    è®¤çŸ¥æ¨ç† --> ç”Ÿæˆå›ç­” : æ¨ç†å®Œæˆ
    å­¦ä¹ æ¨¡å¼ --> ç”Ÿæˆå›ç­” : å­¦ä¹ å®Œæˆ
    ç”Ÿæˆå›ç­” --> è®°å¿†å­˜å‚¨ : å­˜å‚¨æ–°çŸ¥è¯†
    è®°å¿†å­˜å‚¨ --> å¾…æœº : å®Œæˆå¤„ç†
    
    note right of è®¤çŸ¥æ¨ç† : PETA-OS æ ¸å¿ƒ
    note left of å­¦ä¹ æ¨¡å¼ : æŒç»­å­¦ä¹ èƒ½åŠ›
            </div>
        </div>

        <!-- ä½¿ç”¨è¯´æ˜ -->
        <div class="demo-section">
            <h2 class="demo-title">ğŸ“– ä½¿ç”¨è¯´æ˜</h2>
            <div class="demo-description">
                <h3>å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Mermaidï¼š</h3>
                <ol>
                    <li><strong>å¼•å…¥æ–‡ä»¶ï¼š</strong>ç¡®ä¿é¡µé¢åŒ…å« <code>mermaid-theme.css</code> å’Œ <code>mermaid-support.js</code></li>
                    <li><strong>HTML æ ‡è®°ï¼š</strong>ä½¿ç”¨ <code>&lt;div class="mermaid"&gt;å›¾è¡¨ä»£ç &lt;/div&gt;</code></li>
                    <li><strong>è‡ªåŠ¨åˆå§‹åŒ–ï¼š</strong>é¡µé¢åŠ è½½æ—¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ¸²æŸ“å›¾è¡¨</li>
                    <li><strong>æ‰‹åŠ¨æ§åˆ¶ï¼š</strong>ä½¿ç”¨ JavaScript API è¿›è¡ŒåŠ¨æ€æ“ä½œ</li>
                </ol>
                
                <h3>JavaScript APIï¼š</h3>
                <div class="code-block">
// åˆå§‹åŒ– Mermaid
await initMermaid();

// åŠ¨æ€æ·»åŠ å›¾è¡¨
await addMermaidChart('#container', 'graph TD\n A --> B');

// æ¸²æŸ“ç‰¹å®šå…ƒç´ 
await renderMermaidChart('.my-chart');
                </div>
                
                <p><strong>è¯¦ç»†æ–‡æ¡£ï¼š</strong>è¯·å‚è€ƒ <a href="doc/Mermaid-Integration-Guide.md">Mermaid é›†æˆæŒ‡å—</a></p>
            </div>
        </div>
    </div>

    <script src="js/mermaid-support.js"></script>
    <script>
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ– Mermaid
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('å¼€å§‹åˆå§‹åŒ– Mermaid...');
            const success = await initMermaid({
                theme: 'default',
                startOnLoad: false
            });
            
            if (success) {
                console.log('âœ… Mermaid åˆå§‹åŒ–æˆåŠŸ');
            } else {
                console.error('âŒ Mermaid åˆå§‹åŒ–å¤±è´¥');
            }
        });
    </script>
</body>
</html>
