# PromptX ｜提示词优化技巧和设计原则

## 目录
- [元提示词：生成提示词的提示词](#元提示词生成提示词的提示词-content-0356)
- [提示词优化核心原则：奥卡姆剃刀](#提示词优化核心原则奥卡姆剃刀-content-1132)
- [提示词设计的两大基石：抽象与模式](#提示词设计的两大基石抽象与模式-content-1901)
- [应用框架：从元提示词到产品的四级抽象](#应用框架从元提示词到产品的四级抽象-content-4116)
- [“女娲”系统设计：工程化的提示词框架](#女娲系统设计工程化的提示词框架-content-4955)
- [高级技巧：利用DSL与图形化语法优化提示词](#高级技巧利用dsl与图形化语法优化提示词-content-010100)
- [Q&A 与核心要点回顾](#qa-与核心要点回顾-content-011609)
- [AI 总结](#ai-总结)

---

## 元提示词：生成提示词的提示词 [原片 @ 03:56](https://www.bilibili.com/video/BV1a2N1zjEmo?t=236)*
本次分享的核心思想源于一篇定义了提示词（Prompt）设计模式的文章。这篇文章不仅是分享，其本身也是一个可以用来生成高质量提示词的“元提示词”（Meta-Prompt）。

### 核心概念：作为提示词的文章
- **结构化定义**：文章将提示词的构成要素进行了归纳和定义，形成了一套框架。
    - **角色 (Role)**: 定义了角色的要素，缩写为 `RP` (Role Prompt)。
    - **协议 (Protocol)**: 定义了协议的要素，缩写为 `PDP` (Protocol Description Prompt)。
    - **其他要素**: 还包括执行规范、任务、测试等。
- **元提示词的应用**：这篇文章本身可以被 AI 理解和执行，作为一个高级指令来生成其他具体的提示词。

### 演示：生成 Python 工程师角色提示词
1.  **输入指令**：将文章内容作为上下文，然后输入一个简单的指令：“以 `RP` 方式为我生成一份 Python 后台开发工程师的角色提示词”。
2.  **AI 输出**：AI 因为理解了文章中对 `RP` 的定义，所以能够生成一个结构完整、内容详实的 Python 工程师角色提示词，包含了专业技能、技术栈、架构能力、工程实践（CI/CD）、交付标准等多个方面。
3.  **结论**：提示词的本质就是文字。通过创建一个结构化的、定义清晰的“元提示词”，我们可以用简单的指令高效地生成复杂且专业的特定用途提示词。

## 提示词优化核心原则：奥卡姆剃刀 [原片 @ 11:32](https://www.bilibili.com/video/BV1a2N1zjEmo?t=692)*
虽然元提示词能生成框架完整的提示词，但初版可能包含冗余信息。优化的核心原则是“奥卡姆剃刀”。

### 奥卡姆剃刀原理
- **核心思想**：“如无必要，勿增实体”（Entities should not be multiplied without necessity）。
- **应用在提示词中**：如果一个词、一句话或一个段落可有可无，对最终效果影响不大，就应该删掉。追求的是“最小化完整”（Minimum Viable Product - MVP）的理念。
- **AI 的理解**：大模型知道并能理解“奥卡姆剃刀”这一哲学原理。

### 优化演示
- **指令**：直接对 AI 说：“请使用奥卡姆剃刀原则帮我优化这段提示词”。
- **效果**：AI 会大幅精简提示词，去除约三分之二的冗余内容，只保留最核心、最必要的部分，使其达到“最小可行性”，可以直接用于驱动 AI 工作。

## 提示词设计的两大基石：抽象与模式 [原片 @ 19:01](https://www.bilibili.com/video/BV1a2N1zjEmo?t=1141)*
元提示词之所以有效，其背后依赖于三个核心概念，其中最关键的是“抽象”和“模式”。

### 抽象 (Abstraction)
- **定义**：抽象是一种归纳过程，通过忽略具体细节，提取事物的共同特征和本质，形成一个“概念”。
- **示例**：
    - **角色提示词的抽象**：无论什么角色（程序员、客服、老师），其提示词都包含“角色身份”、“专业领域”、“职责”等共同要素。这些要素就是对所有角色进行抽象后得出的。
    - **苏格拉底式对话探索**：通过与 AI 探讨“什么是椅子”，最终得出结论：椅子的本质并非单一的功能或外形，而是我们从无数具体椅子中提取出的“共同特征”所形成的概念。
- **与 AI 的关系**：AI 的注意力机制（Attention Mechanism）与人的认知类似，无法同时处理所有信息。抽象能够帮助 AI 抓住关键点，从而根据简单的指令完成复杂任务。

### 模式 (Pattern)
- **定义**：模式是由多个相关的“抽象”组合而成的、具有指导意义的框架或规则集。它比单一的抽象更结构化，能将 AI 的能力框定在特定方向。
- **示例**：
    - **角色提示词模式**：将“角色身份”、“专业领域”、“行为准则”、“能力边界”等一系列抽象要素组合在一起，就形成了一个完整的“角色提示词模式”。
    - **生活中的模式**：软件设计模式、法律法规、公司的工作流程等都是模式。

### 抽象的层级与陷阱
- **具体问题具体分析**：过度抽象会导致信息丢失，失去实用价值。例如，试图创造一个适用于所有平台的“完美”推文模式，最终会因为过于泛化而无法使用。
- **实践出真知**：理论需要结合实践，不能脱离具体场景。

## 应用框架：从元提示词到产品的四级抽象 [原片 @ 41:16](https://www.bilibili.com/video/BV1a2N1zjEmo?t=2476)*
在实际应用中，从最高级的概念到最终的实体产品，遵循一个四层抽象的结构。这个过程是不可跳跃的。

1.  **第一层：元提示词 (Meta-Prompt)**
    - 最高级别的抽象，用于生成其他提示词的规则和模板。
2.  **第二层：领域提示词 (Domain Prompt)**
    - 由元提示词生成的、针对特定领域或角色的提示词（如：Java 工程师、客服专员）。这对应着社会中的“组织”或“公司”。
3.  **第三层：项目 (Project)**
    - 在特定领域内，为完成某个业务目标而组织的一系列活动和任务。它是一个概念集合。
4.  **第四层：产品 (Product)**
    - 最终交付的、具象化的、可触摸、可使用的实体。例如一个 App、一栋建筑或一门课程。

## “女娲”系统设计：工程化的提示词框架 [原片 @ 49:55](https://www.bilibili.com/video/BV1a2N1zjEmo?t=2995)*
“女娲”（Nüwa）是一个提示词生成工具，其设计深度践行了上述理论，实现了提示词的工程化、模块化和复用。

### 核心设计哲学：拟人化 (Anthropomorphic)
- 框架的设计模仿了人的思维和行为模式，使其更符合直觉且能应对万物。

### 关键组件：可拔插的模块
通过将人的特征拆解为可复用的模块，实现了高度的灵活性。
- **人格 (Personality)**: 定义了**思维模式**的集合。
    - 示例：探索性思维、逻辑推理思维、批判性思维等。
- **原则 (Principle)**: 定义了**行为模式**的集合，即在不同场景下需要遵守的规则。
    - 示例：作为父亲的原则、作为员工的原则（遵守公司制度）、作为公民的原则（遵守法律）。

### 工程化优势：可拔插与复用
- **演示**：通过为一个 Agent 添加一个名为 `DACP-email-sending` 的行为原则，该 Agent 就获得了发送邮件的能力。移除这个原则，它就失去该能力。
- **实现方式**：将不同的思维模式和行为原则制作成独立的提示词模块。在生成新角色时，可以像拼装乐高一样，自由组合这些模块，快速创建一个具备特定能力和性格的新角色。

## 高级技巧：利用DSL与图形化语法优化提示词 *Content-[01:01:00]*
为了让提示词更精准、简洁且节省成本（Token），可以使用领域专用语言（DSL）和图形化语法。

### 什么是 DSL (Domain-Specific Language)
- 专为特定领域设计的、表达能力强且简洁的语言。
- **示例**：数学公式、EBNF 范式、Mermaid 流程图语法、表格等。

### 在提示词中的应用
1.  **Mermaid (`mindmap`)**：
    - **优势**：能用极少的文本表达复杂的层级和逻辑关系，既方便人阅读，也极大节省了 Token。AI 能很好地理解这种结构化信息。
    - **效果**：用几十个字符的 Mermaid 语法，可以替代数百个字符的纯文本描述，同时表达得更清晰。
2.  **表格 (Table)**：
    - **优势**：能清晰地展示不同项目之间的对应关系，隐含了丰富的结构信息，同样能起到节省 Token 和精准表达的作用。

### “女娲”的应用
“女娲”的提示词中大量运用了 Mermaid 和表格来定义其内部工作流程和对外部规则（如 DPM 框架）的理解，使其自身的提示词变得非常高效和精炼。

## Q&A 与核心要点回顾 *Content-[01:16:09]*
### 不同模型对提示词的理解差异
- **存在差异**：不同的大模型（如 Claude vs 其他模型）“智力”水平不同。聪明的模型（如 Claude）能更好地理解抽象和复杂的指令，而其他模型可能需要更明确、更细致的步骤化指令。
- **核心区别**：这主要是模型能力（特别是代码和逻辑能力）的差异，而非简单的“国内”与“国外”模型的区别。

### `Thought` (COT) 与 `Execution` 的区别
- **`Thought` (思考)**: 指导 AI 内部的思考过程、推理链（Chain of Thought）。这部分内容用户通常不可见，类似于人的“心算”或“构思”。
- **`Execution` (执行)**: 指导 AI 最终输出的、可见的行动或结果。例如调用工具、生成代码或回答问题。
- **为何要区分**：将思考和执行分开，符合拟人化的设计哲学，并能更好地实现模块化和复用。例如，一个计算任务，其“思考”过程是心算，而“执行”过程是调用计算器工具。

---

## AI 总结
本次分享深入探讨了高级提示词（Prompt）的设计原则与优化技巧。核心观点是，通过构建“元提示词”（Meta-Prompt）——一种用于生成其他提示词的结构化模板——可以高效地创建专业、复杂的角色提示词。

分享提出了两大优化与设计的基石：
1.  **优化原则**：应用“奥卡姆剃刀”原理，剔除提示词中的冗余信息，追求“最小化完整”，使提示词精炼而高效。
2.  **设计框架**：基于“抽象”和“模式”两个核心概念。通过对现实世界进行“抽象”（提取共同特征）并将其组合成“模式”（结构化框架），可以有效地指导 AI。

在实践层面，分享介绍了“女娲”系统的工程化实现。该系统采用拟人化设计，将提示词拆解为可复用的“人格”（思维模式）和“原则”（行为模式）模块，实现了提示词的“可拔插”组装。此外，还强调了使用 DSL（如 Mermaid 图、表格）等高级技巧，能以更少的 Token 精准表达复杂逻辑，是优化提示词的重要手段。最终，这些理论和技巧旨在构建一个可维护、可扩展且高效的提示词工程体系。